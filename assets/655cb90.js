(self.webpackChunk=self.webpackChunk||[]).push([[748],{2254:(o,r,t)=>{var g={"./greenBook.jpg":2694,"./interstellar.jpg":8621,"./joker.jpg":1101,"./logo/MOVIE_FIND-logos.jpeg":5004,"./logo/MOVIE_FIND-logos_black.png":5014,"./logo/MOVIE_FIND-logos_transparent.png":247,"./logo/MOVIE_FIND-logos_white.png":2583,"./logo/logo.png":7156,"./onceUponATimeIn...Hollywood.jpg":7157,"./pulpFiction.jpg":2357,"./sherlock.jpg":2261,"./theRevenant.png":3640,"./titantic.jpg":7223};function e(u){var I=i(u);return t(I)}function i(u){if(!t.o(g,u)){var I=new Error("Cannot find module '"+u+"'");throw I.code="MODULE_NOT_FOUND",I}return g[u]}e.keys=function(){return Object.keys(g)},e.resolve=i,o.exports=e,e.id=2254},748:(o,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ce});var g=t(6073),e=t(8152),i=t(1591),u=t(8321),I=t(2438),S=t(605),F=t(1453);function U(l,s){const n=(0,g.BE)();return(0,g.ib)(l,{baseURL:n.public.baseURL,...s,headers:{"X-API-KEY":n.public.key,"Content-Type":"application/json"}},"$IMCFrxSw2Y")}var m=t(1851);class w{constructor(s,n,p,d,a){this.path=(0,m.iH)(s),this.pathVariables=(0,m.qj)(n),this.queryParams=(0,m.qj)(p),this.hash=(0,m.iH)(d),this.disableCSV=(0,m.iH)(a),this.url=(0,m.Fl)(()=>"")}setUrl(s){this.url=s}}class y{constructor(s){this.baseUrl=s??""}buildHash(s,n){return s.match(/#.+/gi)?s.replace(/#.+/gi,`#${n}`):`${s}#${n}`}buildPathVariables(s,n){return Object.keys(n).forEach((p,d)=>{const a=Object.values(n)[d];s=s.replace(/:([^\/]+)/gi,(0,m.PG)(a)?a.value:a.toString())}),s}buildQueryParams(s,n,p=!1){s=s.replace(/(\?|\&)([^=]+)\=([^&]+)/gi,"");const d=Object.keys(n).map((h,v)=>{const f=Object.values(n)[v];switch(typeof h){default:return`${h}=${f}`;case"object":return this.buildCSV(h,f,p)}}).flat().filter(h=>h!==null),a=d.length>0?`?${d.join("&")}`:"";return s+a}buildCSV(s,n,p){return Array.isArray(n)?p?n.map(d=>`${s}=${d}`):[`${s}=${n.join(",")}`]:[]}}const k=(l,s)=>{const n=new w(l?.path??"",l?.pathVariables??{},l?.queryParams??{},l?.hash??"",l?.disableCSV??!1),{queryParams:p,pathVariables:d,path:a,hash:h,disableCSV:v}=n,f=new y(s),_=(0,m.Fl)(()=>{let c=`${f.baseUrl}${a.value}`;return c=c.replace(/([^:]\/)\/+/g,"$1"),c=f.buildPathVariables(c,d),c=f.buildQueryParams(c,p,v.value),c=f.buildHash(c,h.value),c});return n.setUrl(_),n},V=()=>k,C=(0,F.Q_)("films",{state:()=>({filmsByGenre:[],currentFilmIndex:null}),actions:{async getFilmById(l){try{const{data:s}=await U(`/api/v2.2/films/${l}`);return console.log(s,"film"),s}catch{}},async getFilmImagesById(l){try{const{data:s}=await U(`/api/v2.2/films/${l}/images`);return s}catch{}},async getFilmsByGenreId(l){const{url:s}=k({path:"/api/v2.2/films/",queryParams:{countries:1,genres:l,order:"NUM_VOTE",type:"ALL",ratingTo:9,ratingFrom:6,yearFrom:1e3,yearTo:3e3,page:1}});try{const{data:n}=await U(s.value);return this.filmsByGenre=n.value.items,n}catch{}}}});var E=t(6567);const j=l=>((0,e.dD)("data-v-1ffaf9f5"),l=l(),(0,e.Cn)(),l),$={class:"film"},M=["src"],B=["textContent"],H=j(()=>(0,e._)("span",{class:"text",textContent:"Watch"},null,-1)),L=j(()=>(0,e._)("div",{class:"circle"},null,-1)),A=j(()=>(0,e._)("span",{class:"text",textContent:"Add to My list"},null,-1)),P=j(()=>(0,e._)("div",{class:"circle"},null,-1)),T=j(()=>(0,e._)("span",{class:"text",textContent:"NEXT FILM"},null,-1)),G={class:"gallery"},R={class:"gallery__description"},W=["textContent"],Z={class:"gallery__slogan"},Q=["textContent"],z={key:0,class:"gallery__images"},K={class:"gallery__image"},X=["src"],Y={class:"gallery__image"},J=["src"],q={class:"gallery__image"},ee=["src"],te={class:"gallery__image"},se=["src"],ne={class:"gallery__image"},oe=["src"],ie={class:"gallery__image"},re=["src"],le={__name:"[id]",async setup(l){let s,n;const p=(0,g.bV)(),d=(0,E.o)(),a=C(),h=(0,g.tv)(),v=([s,n]=(0,e.mv)(()=>a.getFilmById(p.params.id)),s=await s,n(),s),f=([s,n]=(0,e.mv)(()=>a.getFilmImagesById(p.params.id)),s=await s,n(),s),_=(0,e.Fl)(()=>{const x=d.genres.find(b=>b.filmId===Number(p.params.id));return{...v.value,...x}});a.filmsByGenre.length||([s,n]=(0,e.mv)(()=>a.getFilmsByGenreId(_.value.genreId||6)),await s,n(),d.currentGenreId=_.value.genreId);const c=(0,e.Fl)(()=>f.value.items.slice(0,6)),N=(0,i.iH)(null),O=(0,i.iH)(null),de=[N,O],_e=x=>{de[x-1].value.scrollIntoView({block:"center",behavior:"smooth"})},ge=()=>{a.currentFilmIndex>=19&&(a.currentFilmIndex=-1),a.currentFilmIndex+=1;const x=a.filmsByGenre[a.currentFilmIndex];h.push(`/film/${x.kinopoiskId}/`)};return(x,b)=>{const pe=u.Z,D=I.Z;return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",{class:"first-section",ref_key:"firstSection",ref:N},[(0,e.Wm)(pe,{to:"/"}),(0,e._)("div",$,[(0,e._)("img",{src:(0,i.SU)(_).image?t(2254)(`./${(0,i.SU)(_).image||(0,i.SU)(v).coverUrl}`):(0,i.SU)(v).coverUrl||(0,i.SU)(v).posterUrl},null,8,M),(0,e._)("div",{class:"film__name",textContent:(0,S.zw)((0,i.SU)(_).nameOriginal||(0,i.SU)(_).nameRu)},null,8,B),(0,e.Wm)(D,{class:"film__link",href:(0,i.SU)(_).webUrl},{default:(0,e.w5)(()=>[H,L]),_:1},8,["href"]),(0,e.Wm)(D,{class:"film__add"},{default:(0,e.w5)(()=>[A,P]),_:1}),(0,e.Wm)(D,{class:"film__see-genre-films",onClick:b[0]||(b[0]=ue=>ge())},{default:(0,e.w5)(()=>[T]),_:1})]),(0,i.SU)(_).description||(0,i.SU)(c).length>0?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"link-to-next-page",onClick:b[1]||(b[1]=ue=>_e(2)),textContent:"Movie Description"})):(0,e.kq)("",!0)],512),(0,i.SU)(_).description||(0,i.SU)(c).length>0?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"third-section",ref_key:"secondSection",ref:O},[(0,e._)("div",G,[(0,e._)("div",R,[(0,e._)("div",{textContent:(0,S.zw)((0,i.SU)(_).description||"\u041D\u0435\u0442 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F")},null,8,W)]),(0,e._)("div",Z,[(0,e._)("div",{textContent:(0,S.zw)((0,i.SU)(_).slogan)},null,8,Q)]),(0,i.SU)(c).length===6?((0,e.wg)(),(0,e.iD)("div",z,[(0,e._)("div",K,[(0,e._)("img",{src:(0,i.SU)(c)[0].previewUrl,alt:""},null,8,X)]),(0,e._)("div",Y,[(0,e._)("img",{src:(0,i.SU)(c)[1].previewUrl,alt:""},null,8,J)]),(0,e._)("div",q,[(0,e._)("img",{src:(0,i.SU)(c)[2].imageUrl,alt:""},null,8,ee)]),(0,e._)("div",te,[(0,e._)("img",{src:(0,i.SU)(c)[3].previewUrl,alt:""},null,8,se)]),(0,e._)("div",ne,[(0,e._)("img",{src:(0,i.SU)(c)[4].imageUrl,alt:""},null,8,oe)]),(0,e._)("div",ie,[(0,e._)("img",{src:(0,i.SU)(c)[5].previewUrl,alt:""},null,8,re)])])):(0,e.kq)("",!0)])],512)):(0,e.kq)("",!0)])}}};var ae=t(4897);const ce=(0,ae.Z)(le,[["__scopeId","data-v-1ffaf9f5"]])},8321:(o,r,t)=>{"use strict";t.d(r,{Z:()=>w});var g=t(2438),e=t(8152),i=t(247),u=t.n(i);const S=(y=>((0,e.dD)("data-v-7e7523eb"),y=y(),(0,e.Cn)(),y))(()=>(0,e._)("img",{src:u(),alt:"",class:"logo"},null,-1)),F={__name:"Logo",props:{to:String},setup(y){return(k,V)=>{const C=g.Z;return(0,e.wg)(),(0,e.j4)(C,{to:y.to},{default:(0,e.w5)(()=>[S]),_:1},8,["to"])}}};var U=t(4897);const w=(0,U.Z)(F,[["__scopeId","data-v-7e7523eb"]])},6567:(o,r,t)=>{"use strict";t.d(r,{o:()=>e});var g=t(1453);const e=(0,g.Q_)("genres",{state:()=>({genres:[{genreId:1,image:"joker.jpg",genreName:"Thriller",additionalImgStyle:"object-position: 25%;",filmId:1048334},{genreId:2,image:"onceUponATimeIn...Hollywood.jpg",genreName:"Drama",additionalImgStyle:"object-position: 68%;",filmId:1047883},{genreId:3,image:"pulpFiction.jpg",genreName:"Crime",additionalImgStyle:"object-position: 35%;",filmId:342},{genreId:4,image:"titantic.jpg",genreName:"Melodrama",additionalStyle:"object-position: 47%;",filmId:2213},{genreId:5,image:"sherlock.jpg",genreName:"Detective",additionalImgStyle:"object-position: 47%;",additionalContainerStyle:"",filmId:502838},{genreId:6,image:"interstellar.jpg",genreName:"Fantasy",additionalImgStyle:"object-position: 50%;",filmId:258687},{genreId:7,image:"theRevenant.png",genreName:"Adventure",additionalImgStyle:"object-position: 82%;",filmId:522941},{genreId:8,image:"greenBook.jpg",genreName:"Biography",additionalImgStyle:"object-position: 32%;",filmId:1108577}],currentGenreId:-1})})},2694:(o,r,t)=>{o.exports=t.p+"img/greenBook.a18d7f2.jpg"},8621:(o,r,t)=>{o.exports=t.p+"img/interstellar.217c3e5.jpg"},1101:(o,r,t)=>{o.exports=t.p+"img/joker.dff90b6.jpg"},5004:(o,r,t)=>{o.exports=t.p+"img/MOVIE_FIND-logos.8456e48.jpeg"},5014:(o,r,t)=>{o.exports=t.p+"img/MOVIE_FIND-logos_black.fc2d43f.png"},247:(o,r,t)=>{o.exports=t.p+"img/MOVIE_FIND-logos_transparent.5e08628.png"},2583:(o,r,t)=>{o.exports=t.p+"img/MOVIE_FIND-logos_white.d1f68db.png"},7156:(o,r,t)=>{o.exports=t.p+"img/logo.87de6e0.png"},7157:(o,r,t)=>{o.exports=t.p+"img/onceUponATimeIn...Hollywood.fd13fe2.jpg"},2357:(o,r,t)=>{o.exports=t.p+"img/pulpFiction.4967015.jpg"},2261:(o,r,t)=>{o.exports=t.p+"img/sherlock.af3e3d8.jpg"},3640:(o,r,t)=>{o.exports=t.p+"img/theRevenant.ce12c47.png"},7223:(o,r,t)=>{o.exports=t.p+"img/titantic.a6aaacd.jpg"}}]);
